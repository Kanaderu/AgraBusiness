{% extends 'base.html' %}
{% load humanize %}
{% load static %}

{% block title %}AgraBusiness{% endblock %}
{% block page_name %}Checkout{% endblock %}
{% block head-tag %}
<link rel="stylesheet" href="{% static 'css/payment.css' %}">
{% endblock %}
{% block content %}

<section class="payment-form">
    <form>
        <div class="products">
            {% for cart_item in user.cart.cartitem_set.all %}
            <div class="item">
                <span class="price">${{ cart_item.subtotal|intcomma }}</span>
                <p class="item-name">{{ cart_item.produce_item.produce_name|title }}</p>
                <p class="item-description">{{ cart_item.produce_item.description|capfirst|truncatewords:10 }}</p>
                <p class="item-description">Exp: {{ cart_item.produce_item.expiration }}</p>
                <p class="item-description">Unit Cost: ${{ cart_item.unit_cost|intcomma }}</p>
                <p class="item-description">Quantity: {{ cart_item.quantity|intcomma }}</p>
            </div>
            {% empty %}
            <p>Oh no!<br/>Cart is Empty!<br/>Checkout the <a href="{% url 'produce-list' %}">Produce List</a> to add items to the cart!</p>
            {% endfor %}
            <div class="total">
                <p>Subtotal<span class="price">${{ cart.subtotal|intcomma }}</span></p>
                <p>Tax<span class="price">${{ cart.tax|intcomma }}</span></p>
                <p>Total<span class="price">${{ cart.total|intcomma }}</span></p>
            </div>
        </div>
        <div class="card-details">
            {% for cc in credit_cards %}
                <div class="row">
                    <div class="form-group col-sm-7">
                        <input type="checkbox"/>
                    </div>
                    <div class="form-group col-sm-7">
                        <label for="card-holder">Card Holder</label>
                        <input id="card-holder" type="text" class="form-control" value="{{ cc.name }}"/>
                    </div>
                    <div class="form-group col-sm-5">
                        <label for="">Expiration Date</label>
                        <div class="input-group expiration-date">
                            <input type="text" maxlength="2" style="padding: .375rem .75rem;" class="form-control" value="{{ cc.exp|date:'m' }}"/>
                            <span class="date-separator">/</span>
                            <input type="text" maxlength="4" style="padding: .375rem .75rem;" class="form-control" value="{{ cc.exp|date:'Y' }}"/>
                        </div>
                    </div>
                  <div class="form-group col-sm-8">
                        <label for="card-number">Card Number</label>
                        <input id="card-number" type="text" class="form-control" value="{{ cc.number }}"/>
                  </div>
                  <div class="form-group col-sm-4">
                        <label for="ccv">CCV</label>
                        <input id="ccv" type="text" class="form-control" placeholder="CCV"/>
                  </div>
                </div>
                <hr/>
            {% endfor %}
            <!--
            <div class="row">
                <div class="form-group col-sm-7">
                    <label for="card-holder">Card Holder</label>
                    <input id="card-holder" type="text" class="form-control" placeholder="Card Holder" aria-label="Card Holder" aria-describedby="basic-addon1">
                </div>
                <div class="form-group col-sm-5">
                    <label for="">Expiration Date</label>
                    <div class="input-group expiration-date">
                        <input type="text" class="form-control" placeholder="MM" aria-label="MM" aria-describedby="basic-addon1">
                        <span class="date-separator">/</span>
                        <input type="text" class="form-control" placeholder="YY" aria-label="YY" aria-describedby="basic-addon1">
                    </div>
                </div>
              <div class="form-group col-sm-8">
                    <label for="card-number">Card Number</label>
                    <input id="card-number" type="text" class="form-control" placeholder="Card Number" aria-label="Card Holder" aria-describedby="basic-addon1">
              </div>
              <div class="form-group col-sm-4">
                    <label for="cvc">CVC</label>
                    <input id="cvc" type="text" class="form-control" placeholder="CVC" aria-label="Card Holder" aria-describedby="basic-addon1">
              </div>
            </div>
            <hr/>
            <div class="row">
                <div class="form-group col-sm-7">
                    <label for="card-holder">Card Holder</label>
                    <input id="card-holder" type="text" class="form-control" placeholder="Card Holder" aria-label="Card Holder" aria-describedby="basic-addon1">
                </div>
                <div class="form-group col-sm-5">
                    <label for="">Expiration Date</label>
                    <div class="input-group expiration-date">
                        <input type="text" class="form-control" placeholder="MM" aria-label="MM" aria-describedby="basic-addon1">
                        <span class="date-separator">/</span>
                        <input type="text" class="form-control" placeholder="YY" aria-label="YY" aria-describedby="basic-addon1">
                    </div>
                </div>
              <div class="form-group col-sm-8">
                    <label for="card-number">Card Number</label>
                    <input id="card-number" type="text" class="form-control" placeholder="Card Number" aria-label="Card Holder" aria-describedby="basic-addon1">
              </div>
              <div class="form-group col-sm-4">
                    <label for="cvc">CVC</label>
                    <input id="cvc" type="text" class="form-control" placeholder="CVC" aria-label="Card Holder" aria-describedby="basic-addon1">
              </div>
            </div>
            <hr/>
            <!--
            <h3 class="title">Credit Card Details</h3>
            <div class="row">
                <div class="form-group col-sm-7">
                    <label for="card-holder">Card Holder</label>
                    <input id="card-holder" type="text" class="form-control" placeholder="Card Holder" aria-label="Card Holder" aria-describedby="basic-addon1">
                </div>
                <div class="form-group col-sm-5">
                    <label for="">Expiration Date</label>
                    <div class="input-group expiration-date">
                        <input type="text" class="form-control" placeholder="MM" aria-label="MM" aria-describedby="basic-addon1">
                        <span class="date-separator">/</span>
                        <input type="text" class="form-control" placeholder="YY" aria-label="YY" aria-describedby="basic-addon1">
                    </div>
                </div>
              <div class="form-group col-sm-8">
                    <label for="card-number">Card Number</label>
                    <input id="card-number" type="text" class="form-control" placeholder="Card Number" aria-label="Card Holder" aria-describedby="basic-addon1">
              </div>
              <div class="form-group col-sm-4">
                    <label for="cvc">CVC</label>
                    <input id="cvc" type="text" class="form-control" placeholder="CVC" aria-label="Card Holder" aria-describedby="basic-addon1">
              </div>
              <div class="form-group col-sm-12">
                    <button type="button" class="btn btn-primary btn-block">Proceed</button>
              </div>
            </div>-->
            <div class="row">
                <div class="form-group col-sm-12">
                    <button type="button" class="btn btn-primary btn-block">Proceed</button>
                </div>
            </div>
        </div>
    </form>
</section>
{% endblock %}